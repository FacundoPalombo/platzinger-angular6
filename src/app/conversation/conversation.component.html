<div id="conversationContainer">
  <div [ngClass]="{'shaker': shaker}">
    <div class="contPrinc pato45">
      <div class="row">
        <div class="col-xs-3 bg-grey marle-25">
          <div class="avatarFrameOnline ">
            <img src="assets/img/generic_avatar.png" class=" homeAvatarPicture img-fluid">
          </div>

          <div class="avatarFrameOnline  marto250">
            <img src="assets/img/generic_avatar.png" class=" homeAvatarPicture img-fluid">
          </div>

        </div>
        <div class="col">
          <span><b>{{friend.nick}}</b></span>
          <div class="container">
            <div class="chatContainer marto15">
              <div class="messageGroup" *ngFor="let m of conversation">
                <div *ngIf="m.type==='text'">
                    <b>{{getUserNickById(m.sender)}}</b> dice: <br>
                    <span>{{m.text}}</span>
                </div>
                <div *ngIf="m.type==='shaker'">
                  <b>ยก{{getUserNickById(m.sender)}} ha enviado un zumbido! <img class="iconImage" src="/assets/img/zumbido.png"></b>
                </div>
                <div *ngIf="m.type === 'image'" class="image">
                  <b>{{getUserNickById(m.sender)}} Ha enviado una imagen: </b> <br>
                  <a href=""><img src="{{imageDownloadUrl | async}}"></a>
                  <div class="modal">
                    <a href=""><img src="{{imageDownloadUrl | async}}"></a>
                  </div>
                </div>
              </div>
            </div>
            <div class="bottomChat">
              <textarea [(ngModel)]="textMessage" (keyup.enter)="sendMessage()" class="form-control areaChat"
                placeholder="Escribe un mensaje" cols="30" rows="10"></textarea>

              <div class="marto15">

                <img src="/assets/img/icons/regular_smile.gif" class="iconImage img-fluid">
                <img src="/assets/img/icons/wink_smile.gif" class="iconImage img-fluid">
                <img src="/assets/img/zumbido.png" class="iconImage img-fluid" (click)="sendShaker()">

                <label class="customFileUpload">
                  <input type="file" (change)="sendImage($event)">
                  <i class="far fa-images"></i>
                  Seleccionar Imagen
                </label>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!---
  bubble chat effect. 
  receptor: class="marle-25 speech-bubble-rec
  emisor: class="marle-25 speech-bubble-em"
-->